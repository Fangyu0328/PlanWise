{"ast":null,"code":"var _jsxFileName = \"/Users/wenxinmiao/Desktop/PlanWise/client/src/components/Features/GroupAvailability.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { format, getDay, addDays, parseISO, startOfWeek, getHours } from 'date-fns';\n\n// Constants for time grid\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DAYS_OF_WEEK = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst HOURS_OF_DAY = Array.from({\n  length: 13\n}, (_, i) => i + 8); // 8 AM to 8 PM\n\nfunction GroupAvailability() {\n  _s();\n  const [participants, setParticipants] = useState([]);\n  const [newParticipantName, setNewParticipantName] = useState('');\n  const [startDate, setStartDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [endDate, setEndDate] = useState(format(addDays(new Date(), 7), 'yyyy-MM-dd'));\n  const [currentParticipant, setCurrentParticipant] = useState(null);\n  const [availabilityGrid, setAvailabilityGrid] = useState({});\n  const [selectedTimeSlots, setSelectedTimeSlots] = useState({});\n  const [selectionMode, setSelectionMode] = useState('add'); // 'add' or 'remove'\n  const [isMouseDown, setIsMouseDown] = useState(false);\n\n  // Initialize availability grid\n  useEffect(() => {\n    const startDateObj = parseISO(startDate);\n    const endDateObj = parseISO(endDate);\n    const daysDiff = Math.ceil((endDateObj - startDateObj) / (1000 * 60 * 60 * 24)) + 1;\n\n    // Create initial grid\n    const grid = {};\n    for (let i = 0; i < daysDiff; i++) {\n      const date = addDays(startDateObj, i);\n      const dateString = format(date, 'yyyy-MM-dd');\n      grid[dateString] = {};\n      HOURS_OF_DAY.forEach(hour => {\n        grid[dateString][hour] = [];\n      });\n    }\n    setAvailabilityGrid(grid);\n  }, [startDate, endDate]);\n\n  // Load data from local storage\n  useEffect(() => {\n    const savedParticipants = localStorage.getItem('groupAvailabilityParticipants');\n    const savedGrid = localStorage.getItem('groupAvailabilityGrid');\n    if (savedParticipants) {\n      setParticipants(JSON.parse(savedParticipants));\n    }\n    if (savedGrid) {\n      setAvailabilityGrid(JSON.parse(savedGrid));\n    }\n  }, []);\n\n  // Save data to local storage\n  useEffect(() => {\n    if (participants.length > 0) {\n      localStorage.setItem('groupAvailabilityParticipants', JSON.stringify(participants));\n    }\n    if (Object.keys(availabilityGrid).length > 0) {\n      localStorage.setItem('groupAvailabilityGrid', JSON.stringify(availabilityGrid));\n    }\n  }, [participants, availabilityGrid]);\n  const handleAddParticipant = () => {\n    if (!newParticipantName.trim()) return;\n    const newParticipant = {\n      id: Date.now().toString(),\n      name: newParticipantName.trim(),\n      color: getRandomColor()\n    };\n    setParticipants([...participants, newParticipant]);\n    setNewParticipantName('');\n    setCurrentParticipant(newParticipant);\n  };\n  const getRandomColor = () => {\n    const colors = ['#E53935', '#D81B60', '#8E24AA', '#5E35B1', '#3949AB', '#1E88E5', '#039BE5', '#00ACC1', '#00897B', '#43A047', '#7CB342', '#C0CA33', '#FDD835', '#FFB300', '#FB8C00'];\n    return colors[Math.floor(Math.random() * colors.length)];\n  };\n  const handleRemoveParticipant = participantId => {\n    // Remove participant from the list\n    setParticipants(participants.filter(p => p.id !== participantId));\n\n    // Remove their availability from the grid\n    const updatedGrid = {\n      ...availabilityGrid\n    };\n    Object.keys(updatedGrid).forEach(date => {\n      Object.keys(updatedGrid[date]).forEach(hour => {\n        updatedGrid[date][hour] = updatedGrid[date][hour].filter(id => id !== participantId);\n      });\n    });\n    setAvailabilityGrid(updatedGrid);\n\n    // Reset current participant if it was this one\n    if (currentParticipant && currentParticipant.id === participantId) {\n      setCurrentParticipant(null);\n    }\n  };\n  const toggleTimeSlot = (date, hour) => {\n    if (!currentParticipant) return;\n    const updatedGrid = {\n      ...availabilityGrid\n    };\n    const slotParticipants = updatedGrid[date][hour];\n    if (selectionMode === 'add') {\n      // Add if not already present\n      if (!slotParticipants.includes(currentParticipant.id)) {\n        updatedGrid[date][hour] = [...slotParticipants, currentParticipant.id];\n      }\n    } else {\n      // Remove if present\n      updatedGrid[date][hour] = slotParticipants.filter(id => id !== currentParticipant.id);\n    }\n    setAvailabilityGrid(updatedGrid);\n  };\n  const handleMouseDown = (date, hour) => {\n    if (!currentParticipant) return;\n    setIsMouseDown(true);\n\n    // Determine selection mode based on current state\n    const isSelected = availabilityGrid[date][hour].includes(currentParticipant.id);\n    setSelectionMode(isSelected ? 'remove' : 'add');\n\n    // Select or deselect the time slot\n    toggleTimeSlot(date, hour);\n\n    // Update current selections\n    setSelectedTimeSlots({\n      [date]: {\n        [hour]: true\n      }\n    });\n  };\n  const handleMouseEnter = (date, hour) => {\n    if (!isMouseDown || !currentParticipant) return;\n\n    // Check if already in the selection state\n    if (selectedTimeSlots[date] && selectedTimeSlots[date][hour]) return;\n\n    // Add to selections\n    setSelectedTimeSlots(prev => ({\n      ...prev,\n      [date]: {\n        ...(prev[date] || {}),\n        [hour]: true\n      }\n    }));\n\n    // Toggle the time slot\n    toggleTimeSlot(date, hour);\n  };\n  const handleMouseUp = () => {\n    setIsMouseDown(false);\n    setSelectedTimeSlots({});\n  };\n\n  // Calculate common free times\n  const getCommonFreeTimes = () => {\n    if (participants.length === 0) return [];\n    const commonTimes = [];\n    Object.keys(availabilityGrid).forEach(date => {\n      Object.keys(availabilityGrid[date]).forEach(hour => {\n        const available = availabilityGrid[date][hour];\n\n        // Common time means all participants are available\n        if (available.length === participants.length) {\n          const dateObj = parseISO(date);\n          const dayName = DAYS_OF_WEEK[getDay(dateObj)];\n          const formattedDate = format(dateObj, 'MMM d');\n          const formattedHour = hour % 12 === 0 ? 12 : hour % 12;\n          const ampm = hour >= 12 ? 'PM' : 'AM';\n          commonTimes.push({\n            date,\n            hour,\n            displayText: `${dayName}, ${formattedDate} at ${formattedHour} ${ampm}`\n          });\n        }\n      });\n    });\n    return commonTimes;\n  };\n  const commonFreeTimes = getCommonFreeTimes();\n\n  // Dates to display in the grid\n  const datesToDisplay = [];\n  let currentDate = parseISO(startDate);\n  const endDateObj = parseISO(endDate);\n  while (currentDate <= endDateObj) {\n    datesToDisplay.push({\n      date: format(currentDate, 'yyyy-MM-dd'),\n      dayName: DAYS_OF_WEEK[getDay(currentDate)],\n      formattedDate: format(currentDate, 'MMM d')\n    });\n    currentDate = addDays(currentDate, 1);\n  }\n\n  // Calculate cell style based on availability\n  const getCellStyle = (date, hour) => {\n    var _availabilityGrid$dat;\n    const availableParticipants = ((_availabilityGrid$dat = availabilityGrid[date]) === null || _availabilityGrid$dat === void 0 ? void 0 : _availabilityGrid$dat[hour]) || [];\n    if (availableParticipants.length === 0) {\n      return {\n        backgroundColor: '#f3f4f6'\n      }; // Empty cell\n    }\n    if (availableParticipants.length === participants.length) {\n      return {\n        backgroundColor: '#10B981',\n        color: 'white'\n      }; // All available\n    }\n\n    // Some participants available, use a gradient with opacity\n    return {\n      background: 'repeating-linear-gradient(45deg, #10B981, #10B981 5px, #34D399 5px, #34D399 10px)',\n      opacity: availableParticipants.length / participants.length\n    };\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold text-gray-800 mb-6\",\n      children: \"Group Availability Coordination\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg shadow-md p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-800 mb-4\",\n          children: \"Participants\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"participant-name\",\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: \"Add Participant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"participant-name\",\n              className: \"input rounded-r-none flex-1\",\n              placeholder: \"Enter name\",\n              value: newParticipantName,\n              onChange: e => setNewParticipantName(e.target.value),\n              onKeyPress: e => e.key === 'Enter' && handleAddParticipant()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary rounded-l-none\",\n              onClick: handleAddParticipant,\n              disabled: !newParticipantName.trim(),\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), participants.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No participants added yet. Add participants to begin.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: participants.map(participant => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: `flex items-center justify-between p-2 rounded-md ${(currentParticipant === null || currentParticipant === void 0 ? void 0 : currentParticipant.id) === participant.id ? 'bg-blue-50 border border-blue-200' : 'bg-gray-50'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-4 h-4 rounded-full mr-2\",\n                style: {\n                  backgroundColor: participant.color\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: participant.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: `px-2 py-1 text-xs rounded ${(currentParticipant === null || currentParticipant === void 0 ? void 0 : currentParticipant.id) === participant.id ? 'bg-blue-100 text-blue-800' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'}`,\n                onClick: () => setCurrentParticipant(participant),\n                children: \"Select\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 288,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"text-red-500 hover:text-red-700\",\n                onClick: () => handleRemoveParticipant(participant.id),\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"h-5 w-5\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 311,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 19\n            }, this)]\n          }, participant.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-800 mb-4\",\n            children: \"Date Range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"start-date\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Start Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"start-date\",\n                className: \"input\",\n                value: startDate,\n                onChange: e => setStartDate(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"end-date\",\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"End Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                id: \"end-date\",\n                className: \"input\",\n                value: endDate,\n                min: startDate,\n                onChange: e => setEndDate(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 341,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 11\n        }, this), currentParticipant ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-blue-50 rounded-md text-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-medium\",\n            children: \"Instructions:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Click and drag to select your available time slots.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 p-3 bg-yellow-50 rounded-md text-sm\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Please select a participant to mark their availability.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-2 bg-white rounded-lg shadow-md p-4 overflow-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-medium text-gray-800 mb-4\",\n          children: \"Availability Grid\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this), !currentParticipant && participants.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4 p-3 bg-yellow-50 rounded-md\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select a participant to edit their availability.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 13\n        }, this), participants.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center py-12\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"mx-auto h-12 w-12 text-gray-400\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 1,\n              d: \"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"mt-2 text-sm text-gray-500\",\n            children: \"No participants added yet. Add participants to begin.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid\",\n            style: {\n              gridTemplateColumns: `minmax(80px, auto) repeat(${datesToDisplay.length}, minmax(80px, 1fr))`\n            },\n            onMouseLeave: handleMouseUp,\n            onMouseUp: handleMouseUp,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 p-2 font-medium border-b border-r\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 17\n            }, this), datesToDisplay.map(({\n              date,\n              dayName,\n              formattedDate\n            }) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-gray-100 p-2 text-center font-medium border-b border-r\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: dayName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: formattedDate\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 21\n              }, this)]\n            }, date, true, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this)), HOURS_OF_DAY.map(hour => /*#__PURE__*/_jsxDEV(React.Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 text-right font-medium border-b border-r bg-gray-50\",\n                children: [hour % 12 === 0 ? '12' : hour % 12, \":00 \", hour >= 12 ? 'PM' : 'AM']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this), datesToDisplay.map(({\n                date\n              }) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-b border-r h-8 cursor-pointer\",\n                style: getCellStyle(date, hour),\n                onMouseDown: () => handleMouseDown(date, hour),\n                onMouseEnter: () => handleMouseEnter(date, hour),\n                onMouseUp: handleMouseUp\n              }, `${date}-${hour}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 23\n              }, this))]\n            }, hour, true, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this), participants.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-medium text-gray-800 mb-2\",\n            children: \"Common Free Times\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), commonFreeTimes.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-500\",\n            children: \"No common free times found. Try adjusting participants' availability.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-2\",\n            children: commonFreeTimes.map(({\n              date,\n              hour,\n              displayText\n            }) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"bg-green-100 text-green-800 p-2 rounded-md flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"h-5 w-5 mr-2 text-green-600\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                xmlns: \"http://www.w3.org/2000/svg\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 23\n              }, this), displayText]\n            }, `${date}-${hour}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n}\n_s(GroupAvailability, \"x44iM2cRr6rYgRX2kV7T1QQTH1g=\");\n_c = GroupAvailability;\nexport default GroupAvailability;\nvar _c;\n$RefreshReg$(_c, \"GroupAvailability\");","map":{"version":3,"names":["React","useState","useEffect","format","getDay","addDays","parseISO","startOfWeek","getHours","jsxDEV","_jsxDEV","DAYS_OF_WEEK","HOURS_OF_DAY","Array","from","length","_","i","GroupAvailability","_s","participants","setParticipants","newParticipantName","setNewParticipantName","startDate","setStartDate","Date","endDate","setEndDate","currentParticipant","setCurrentParticipant","availabilityGrid","setAvailabilityGrid","selectedTimeSlots","setSelectedTimeSlots","selectionMode","setSelectionMode","isMouseDown","setIsMouseDown","startDateObj","endDateObj","daysDiff","Math","ceil","grid","date","dateString","forEach","hour","savedParticipants","localStorage","getItem","savedGrid","JSON","parse","setItem","stringify","Object","keys","handleAddParticipant","trim","newParticipant","id","now","toString","name","color","getRandomColor","colors","floor","random","handleRemoveParticipant","participantId","filter","p","updatedGrid","toggleTimeSlot","slotParticipants","includes","handleMouseDown","isSelected","handleMouseEnter","prev","handleMouseUp","getCommonFreeTimes","commonTimes","available","dateObj","dayName","formattedDate","formattedHour","ampm","push","displayText","commonFreeTimes","datesToDisplay","currentDate","getCellStyle","_availabilityGrid$dat","availableParticipants","backgroundColor","background","opacity","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","placeholder","value","onChange","e","target","onKeyPress","key","onClick","disabled","map","participant","style","fill","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","min","gridTemplateColumns","onMouseLeave","onMouseUp","Fragment","onMouseDown","onMouseEnter","_c","$RefreshReg$"],"sources":["/Users/wenxinmiao/Desktop/PlanWise/client/src/components/Features/GroupAvailability.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { format, getDay, addDays, parseISO, startOfWeek, getHours } from 'date-fns';\n\n// Constants for time grid\nconst DAYS_OF_WEEK = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst HOURS_OF_DAY = Array.from({ length: 13 }, (_, i) => i + 8); // 8 AM to 8 PM\n\nfunction GroupAvailability() {\n  const [participants, setParticipants] = useState([]);\n  const [newParticipantName, setNewParticipantName] = useState('');\n  const [startDate, setStartDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [endDate, setEndDate] = useState(format(addDays(new Date(), 7), 'yyyy-MM-dd'));\n  const [currentParticipant, setCurrentParticipant] = useState(null);\n  const [availabilityGrid, setAvailabilityGrid] = useState({});\n  const [selectedTimeSlots, setSelectedTimeSlots] = useState({});\n  const [selectionMode, setSelectionMode] = useState('add'); // 'add' or 'remove'\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  \n  // Initialize availability grid\n  useEffect(() => {\n    const startDateObj = parseISO(startDate);\n    const endDateObj = parseISO(endDate);\n    const daysDiff = Math.ceil((endDateObj - startDateObj) / (1000 * 60 * 60 * 24)) + 1;\n    \n    // Create initial grid\n    const grid = {};\n    \n    for (let i = 0; i < daysDiff; i++) {\n      const date = addDays(startDateObj, i);\n      const dateString = format(date, 'yyyy-MM-dd');\n      \n      grid[dateString] = {};\n      \n      HOURS_OF_DAY.forEach(hour => {\n        grid[dateString][hour] = [];\n      });\n    }\n    \n    setAvailabilityGrid(grid);\n  }, [startDate, endDate]);\n  \n  // Load data from local storage\n  useEffect(() => {\n    const savedParticipants = localStorage.getItem('groupAvailabilityParticipants');\n    const savedGrid = localStorage.getItem('groupAvailabilityGrid');\n    \n    if (savedParticipants) {\n      setParticipants(JSON.parse(savedParticipants));\n    }\n    \n    if (savedGrid) {\n      setAvailabilityGrid(JSON.parse(savedGrid));\n    }\n  }, []);\n  \n  // Save data to local storage\n  useEffect(() => {\n    if (participants.length > 0) {\n      localStorage.setItem('groupAvailabilityParticipants', JSON.stringify(participants));\n    }\n    \n    if (Object.keys(availabilityGrid).length > 0) {\n      localStorage.setItem('groupAvailabilityGrid', JSON.stringify(availabilityGrid));\n    }\n  }, [participants, availabilityGrid]);\n  \n  const handleAddParticipant = () => {\n    if (!newParticipantName.trim()) return;\n    \n    const newParticipant = {\n      id: Date.now().toString(),\n      name: newParticipantName.trim(),\n      color: getRandomColor(),\n    };\n    \n    setParticipants([...participants, newParticipant]);\n    setNewParticipantName('');\n    setCurrentParticipant(newParticipant);\n  };\n  \n  const getRandomColor = () => {\n    const colors = [\n      '#E53935', '#D81B60', '#8E24AA', '#5E35B1', '#3949AB',\n      '#1E88E5', '#039BE5', '#00ACC1', '#00897B', '#43A047',\n      '#7CB342', '#C0CA33', '#FDD835', '#FFB300', '#FB8C00',\n    ];\n    return colors[Math.floor(Math.random() * colors.length)];\n  };\n  \n  const handleRemoveParticipant = (participantId) => {\n    // Remove participant from the list\n    setParticipants(participants.filter(p => p.id !== participantId));\n    \n    // Remove their availability from the grid\n    const updatedGrid = { ...availabilityGrid };\n    \n    Object.keys(updatedGrid).forEach(date => {\n      Object.keys(updatedGrid[date]).forEach(hour => {\n        updatedGrid[date][hour] = updatedGrid[date][hour].filter(id => id !== participantId);\n      });\n    });\n    \n    setAvailabilityGrid(updatedGrid);\n    \n    // Reset current participant if it was this one\n    if (currentParticipant && currentParticipant.id === participantId) {\n      setCurrentParticipant(null);\n    }\n  };\n  \n  const toggleTimeSlot = (date, hour) => {\n    if (!currentParticipant) return;\n    \n    const updatedGrid = { ...availabilityGrid };\n    const slotParticipants = updatedGrid[date][hour];\n    \n    if (selectionMode === 'add') {\n      // Add if not already present\n      if (!slotParticipants.includes(currentParticipant.id)) {\n        updatedGrid[date][hour] = [...slotParticipants, currentParticipant.id];\n      }\n    } else {\n      // Remove if present\n      updatedGrid[date][hour] = slotParticipants.filter(id => id !== currentParticipant.id);\n    }\n    \n    setAvailabilityGrid(updatedGrid);\n  };\n  \n  const handleMouseDown = (date, hour) => {\n    if (!currentParticipant) return;\n    \n    setIsMouseDown(true);\n    \n    // Determine selection mode based on current state\n    const isSelected = availabilityGrid[date][hour].includes(currentParticipant.id);\n    setSelectionMode(isSelected ? 'remove' : 'add');\n    \n    // Select or deselect the time slot\n    toggleTimeSlot(date, hour);\n    \n    // Update current selections\n    setSelectedTimeSlots({ [date]: { [hour]: true } });\n  };\n  \n  const handleMouseEnter = (date, hour) => {\n    if (!isMouseDown || !currentParticipant) return;\n    \n    // Check if already in the selection state\n    if (selectedTimeSlots[date] && selectedTimeSlots[date][hour]) return;\n    \n    // Add to selections\n    setSelectedTimeSlots(prev => ({\n      ...prev,\n      [date]: {\n        ...(prev[date] || {}),\n        [hour]: true,\n      },\n    }));\n    \n    // Toggle the time slot\n    toggleTimeSlot(date, hour);\n  };\n  \n  const handleMouseUp = () => {\n    setIsMouseDown(false);\n    setSelectedTimeSlots({});\n  };\n  \n  // Calculate common free times\n  const getCommonFreeTimes = () => {\n    if (participants.length === 0) return [];\n    \n    const commonTimes = [];\n    \n    Object.keys(availabilityGrid).forEach(date => {\n      Object.keys(availabilityGrid[date]).forEach(hour => {\n        const available = availabilityGrid[date][hour];\n        \n        // Common time means all participants are available\n        if (available.length === participants.length) {\n          const dateObj = parseISO(date);\n          const dayName = DAYS_OF_WEEK[getDay(dateObj)];\n          const formattedDate = format(dateObj, 'MMM d');\n          const formattedHour = hour % 12 === 0 ? 12 : hour % 12;\n          const ampm = hour >= 12 ? 'PM' : 'AM';\n          \n          commonTimes.push({\n            date,\n            hour,\n            displayText: `${dayName}, ${formattedDate} at ${formattedHour} ${ampm}`,\n          });\n        }\n      });\n    });\n    \n    return commonTimes;\n  };\n  \n  const commonFreeTimes = getCommonFreeTimes();\n  \n  // Dates to display in the grid\n  const datesToDisplay = [];\n  let currentDate = parseISO(startDate);\n  const endDateObj = parseISO(endDate);\n  \n  while (currentDate <= endDateObj) {\n    datesToDisplay.push({\n      date: format(currentDate, 'yyyy-MM-dd'),\n      dayName: DAYS_OF_WEEK[getDay(currentDate)],\n      formattedDate: format(currentDate, 'MMM d'),\n    });\n    currentDate = addDays(currentDate, 1);\n  }\n  \n  // Calculate cell style based on availability\n  const getCellStyle = (date, hour) => {\n    const availableParticipants = availabilityGrid[date]?.[hour] || [];\n    \n    if (availableParticipants.length === 0) {\n      return { backgroundColor: '#f3f4f6' }; // Empty cell\n    }\n    \n    if (availableParticipants.length === participants.length) {\n      return { backgroundColor: '#10B981', color: 'white' }; // All available\n    }\n    \n    // Some participants available, use a gradient with opacity\n    return {\n      background: 'repeating-linear-gradient(45deg, #10B981, #10B981 5px, #34D399 5px, #34D399 10px)',\n      opacity: availableParticipants.length / participants.length,\n    };\n  };\n  \n  return (\n    <div className=\"p-6\">\n      <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Group Availability Coordination</h2>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {/* Participant management */}\n        <div className=\"bg-white rounded-lg shadow-md p-4\">\n          <h3 className=\"text-lg font-medium text-gray-800 mb-4\">Participants</h3>\n          \n          <div className=\"mb-4\">\n            <label htmlFor=\"participant-name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Add Participant\n            </label>\n            <div className=\"flex\">\n              <input\n                type=\"text\"\n                id=\"participant-name\"\n                className=\"input rounded-r-none flex-1\"\n                placeholder=\"Enter name\"\n                value={newParticipantName}\n                onChange={(e) => setNewParticipantName(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleAddParticipant()}\n              />\n              <button\n                type=\"button\"\n                className=\"btn btn-primary rounded-l-none\"\n                onClick={handleAddParticipant}\n                disabled={!newParticipantName.trim()}\n              >\n                Add\n              </button>\n            </div>\n          </div>\n          \n          {participants.length === 0 ? (\n            <p className=\"text-gray-500\">No participants added yet. Add participants to begin.</p>\n          ) : (\n            <ul className=\"space-y-2\">\n              {participants.map(participant => (\n                <li\n                  key={participant.id}\n                  className={`flex items-center justify-between p-2 rounded-md ${\n                    currentParticipant?.id === participant.id ? 'bg-blue-50 border border-blue-200' : 'bg-gray-50'\n                  }`}\n                >\n                  <div className=\"flex items-center\">\n                    <div\n                      className=\"w-4 h-4 rounded-full mr-2\"\n                      style={{ backgroundColor: participant.color }}\n                    ></div>\n                    <span>{participant.name}</span>\n                  </div>\n                  <div className=\"flex space-x-2\">\n                    <button\n                      type=\"button\"\n                      className={`px-2 py-1 text-xs rounded ${\n                        currentParticipant?.id === participant.id\n                          ? 'bg-blue-100 text-blue-800'\n                          : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\n                      }`}\n                      onClick={() => setCurrentParticipant(participant)}\n                    >\n                      Select\n                    </button>\n                    <button\n                      type=\"button\"\n                      className=\"text-red-500 hover:text-red-700\"\n                      onClick={() => handleRemoveParticipant(participant.id)}\n                    >\n                      <svg\n                        className=\"h-5 w-5\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"\n                        />\n                      </svg>\n                    </button>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          )}\n          \n          {/* Date range selection */}\n          <div className=\"mt-6\">\n            <h3 className=\"text-lg font-medium text-gray-800 mb-4\">Date Range</h3>\n            <div className=\"grid grid-cols-2 gap-4\">\n              <div>\n                <label htmlFor=\"start-date\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Start Date\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"start-date\"\n                  className=\"input\"\n                  value={startDate}\n                  onChange={(e) => setStartDate(e.target.value)}\n                />\n              </div>\n              <div>\n                <label htmlFor=\"end-date\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  End Date\n                </label>\n                <input\n                  type=\"date\"\n                  id=\"end-date\"\n                  className=\"input\"\n                  value={endDate}\n                  min={startDate}\n                  onChange={(e) => setEndDate(e.target.value)}\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* Instructions */}\n          {currentParticipant ? (\n            <div className=\"mt-4 p-3 bg-blue-50 rounded-md text-sm\">\n              <p className=\"font-medium\">Instructions:</p>\n              <p>Click and drag to select your available time slots.</p>\n            </div>\n          ) : (\n            <div className=\"mt-4 p-3 bg-yellow-50 rounded-md text-sm\">\n              <p>Please select a participant to mark their availability.</p>\n            </div>\n          )}\n        </div>\n        \n        {/* Availability grid */}\n        <div className=\"col-span-2 bg-white rounded-lg shadow-md p-4 overflow-auto\">\n          <h3 className=\"text-lg font-medium text-gray-800 mb-4\">Availability Grid</h3>\n          \n          {!currentParticipant && participants.length > 0 && (\n            <div className=\"mb-4 p-3 bg-yellow-50 rounded-md\">\n              <p>Select a participant to edit their availability.</p>\n            </div>\n          )}\n          \n          {participants.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <svg\n                className=\"mx-auto h-12 w-12 text-gray-400\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                viewBox=\"0 0 24 24\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={1}\n                  d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\"\n                />\n              </svg>\n              <p className=\"mt-2 text-sm text-gray-500\">No participants added yet. Add participants to begin.</p>\n            </div>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <div\n                className=\"grid\"\n                style={{\n                  gridTemplateColumns: `minmax(80px, auto) repeat(${datesToDisplay.length}, minmax(80px, 1fr))`,\n                }}\n                onMouseLeave={handleMouseUp}\n                onMouseUp={handleMouseUp}\n              >\n                {/* Header row with dates */}\n                <div className=\"bg-gray-100 p-2 font-medium border-b border-r\"></div>\n                {datesToDisplay.map(({ date, dayName, formattedDate }) => (\n                  <div\n                    key={date}\n                    className=\"bg-gray-100 p-2 text-center font-medium border-b border-r\"\n                  >\n                    <div>{dayName}</div>\n                    <div>{formattedDate}</div>\n                  </div>\n                ))}\n                \n                {/* Time slots */}\n                {HOURS_OF_DAY.map(hour => (\n                  <React.Fragment key={hour}>\n                    {/* Time column */}\n                    <div className=\"p-2 text-right font-medium border-b border-r bg-gray-50\">\n                      {hour % 12 === 0 ? '12' : hour % 12}:00 {hour >= 12 ? 'PM' : 'AM'}\n                    </div>\n                    \n                    {/* Availability cells */}\n                    {datesToDisplay.map(({ date }) => (\n                      <div\n                        key={`${date}-${hour}`}\n                        className=\"border-b border-r h-8 cursor-pointer\"\n                        style={getCellStyle(date, hour)}\n                        onMouseDown={() => handleMouseDown(date, hour)}\n                        onMouseEnter={() => handleMouseEnter(date, hour)}\n                        onMouseUp={handleMouseUp}\n                      ></div>\n                    ))}\n                  </React.Fragment>\n                ))}\n              </div>\n            </div>\n          )}\n          \n          {/* Common free times */}\n          {participants.length > 1 && (\n            <div className=\"mt-6\">\n              <h3 className=\"text-lg font-medium text-gray-800 mb-2\">Common Free Times</h3>\n              \n              {commonFreeTimes.length === 0 ? (\n                <p className=\"text-gray-500\">No common free times found. Try adjusting participants' availability.</p>\n              ) : (\n                <ul className=\"grid grid-cols-1 md:grid-cols-2 gap-2\">\n                  {commonFreeTimes.map(({ date, hour, displayText }) => (\n                    <li\n                      key={`${date}-${hour}`}\n                      className=\"bg-green-100 text-green-800 p-2 rounded-md flex items-center\"\n                    >\n                      <svg\n                        className=\"h-5 w-5 mr-2 text-green-600\"\n                        fill=\"none\"\n                        stroke=\"currentColor\"\n                        viewBox=\"0 0 24 24\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                      >\n                        <path\n                          strokeLinecap=\"round\"\n                          strokeLinejoin=\"round\"\n                          strokeWidth={2}\n                          d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\n                        />\n                      </svg>\n                      {displayText}\n                    </li>\n                  ))}\n                </ul>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default GroupAvailability;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}