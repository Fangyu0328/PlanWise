{"ast":null,"code":"var _jsxFileName = \"/Users/fiona/Desktop/Y/MPH 1st Y/575/PlanWise/client/src/components/Features/GroupAvailability.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport openAIService from '../../Services/openAIservice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction GroupAvailability() {\n  _s();\n  // State for form inputs\n  const [meetingName, setMeetingName] = useState('');\n  const [duration, setDuration] = useState('1 hour');\n  const [newParticipant, setNewParticipant] = useState('');\n  const [participants, setParticipants] = useState([{\n    id: 1,\n    name: 'Sarah Johnson',\n    email: 'sarah.johnson@example.com'\n  }, {\n    id: 2,\n    name: 'Michael Chen',\n    email: 'michael.chen@example.com'\n  }, {\n    id: 3,\n    name: 'Taylor Kim',\n    email: 'taylor.kim@example.com'\n  }]);\n  const [preferredDays, setPreferredDays] = useState({\n    monday: false,\n    tuesday: false,\n    wednesday: false,\n    thursday: false,\n    friday: false\n  });\n  const [timeRange, setTimeRange] = useState({\n    from: '9:00 AM',\n    to: '5:00 PM'\n  });\n\n  // Available duration options\n  const durationOptions = ['30 minutes', '1 hour', '1.5 hours', '2 hours', '2.5 hours', '3 hours', '4 hours', 'Full day'];\n\n  // Time options\n  const timeOptions = ['8:00 AM', '8:30 AM', '9:00 AM', '9:30 AM', '10:00 AM', '10:30 AM', '11:00 AM', '11:30 AM', '12:00 PM', '12:30 PM', '1:00 PM', '1:30 PM', '2:00 PM', '2:30 PM', '3:00 PM', '3:30 PM', '4:00 PM', '4:30 PM', '5:00 PM', '5:30 PM', '6:00 PM', '6:30 PM'];\n\n  // States for availability data and email sending\n  const [participantAvailability, setParticipantAvailability] = useState({});\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSendingEmails, setIsSendingEmails] = useState(false);\n  const [emailsSent, setEmailsSent] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n\n  // Handle participant removal\n  const handleRemoveParticipant = id => {\n    setParticipants(participants.filter(participant => participant.id !== id));\n    // Also remove their availability data if it exists\n    if (participantAvailability[id]) {\n      const updatedAvailability = {\n        ...participantAvailability\n      };\n      delete updatedAvailability[id];\n      setParticipantAvailability(updatedAvailability);\n    }\n  };\n\n  // Handle adding new participant\n  const handleAddParticipant = () => {\n    if (!newParticipant.trim()) return;\n\n    // Check if it's a valid email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const isEmail = emailRegex.test(newParticipant);\n    const newId = participants.length > 0 ? Math.max(...participants.map(p => p.id)) + 1 : 1;\n\n    // If it's an email, try to extract a name, otherwise use the email as name\n    let name = newParticipant;\n    let email = newParticipant;\n    if (isEmail) {\n      const possibleName = newParticipant.split('@')[0];\n      name = possibleName.replace(/[._-]/g, ' ').replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n    }\n    setParticipants([...participants, {\n      id: newId,\n      name,\n      email\n    }]);\n    setNewParticipant('');\n  };\n\n  // Toggle preferred day\n  const toggleDay = day => {\n    setPreferredDays(prev => ({\n      ...prev,\n      [day]: !prev[day]\n    }));\n  };\n\n  // Simulated function to send availability request emails\n  const sendAvailabilityRequests = async () => {\n    if (participants.length === 0) {\n      alert('Please add at least one participant');\n      return;\n    }\n    setIsSendingEmails(true);\n    try {\n      // Simulating API call to send emails\n      await new Promise(resolve => setTimeout(resolve, 1500));\n\n      // Simulate some random availability data for each participant\n      const mockAvailability = {};\n      participants.forEach(participant => {\n        const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];\n        const availableDays = {};\n        days.forEach(day => {\n          if (Math.random() > 0.3) {\n            // 70% chance the person is available on this day\n            availableDays[day] = [];\n\n            // Add some random time slots\n            const numSlots = Math.floor(Math.random() * 4) + 1; // 1-4 slots\n            for (let i = 0; i < numSlots; i++) {\n              const startHour = 9 + Math.floor(Math.random() * 8); // 9 AM to 4 PM\n              const endHour = startHour + 1 + Math.floor(Math.random() * 3); // 1-3 hour slots\n\n              availableDays[day].push({\n                start: `${startHour}:00`,\n                end: `${endHour}:00`\n              });\n            }\n          }\n        });\n        mockAvailability[participant.id] = availableDays;\n      });\n      setParticipantAvailability(mockAvailability);\n      setEmailsSent(true);\n\n      // After \"emails are sent\", automatically find available slots\n      findAvailableSlots(mockAvailability);\n    } catch (error) {\n      console.error('Error sending emails:', error);\n      alert('Failed to send invitations. Please try again.');\n    } finally {\n      setIsSendingEmails(false);\n    }\n  };\n\n  // Find available time slots using OpenAI service\n  const findAvailableSlots = async (availabilityData = participantAvailability) => {\n    // Validate form data\n    if (!meetingName || participants.length === 0 || !Object.values(preferredDays).some(day => day)) {\n      alert('Please fill in all required fields and select at least one preferred day.');\n      return;\n    }\n    setIsLoading(true);\n    try {\n      // Prepare meeting parameters\n      const meetingParams = {\n        duration,\n        preferredDays: Object.entries(preferredDays).filter(([_, selected]) => selected).map(([day]) => day),\n        timeRange\n      };\n\n      // Call OpenAI service to find optimal slots\n      const bestSlots = await openAIService.findBestMeetingSlots(availabilityData, meetingParams);\n      setAvailableSlots(bestSlots);\n    } catch (error) {\n      console.error('Error finding available slots:', error);\n\n      // Fallback to basic slot generation\n      const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];\n      const selectedDays = days.filter(day => preferredDays[day]);\n\n      // Generate dummy available slots\n      const dummySlots = [{\n        day: selectedDays[0] || 'monday',\n        date: 'May 1',\n        time: '10:00 AM - 11:00 AM',\n        availability: 'all'\n      }, {\n        day: selectedDays[selectedDays.length > 1 ? 1 : 0] || 'wednesday',\n        date: 'May 3',\n        time: '2:00 PM - 3:00 PM',\n        availability: 'all'\n      }, {\n        day: selectedDays[0] || 'monday',\n        date: 'May 8',\n        time: '11:00 AM - 12:00 PM',\n        availability: 'partial',\n        availableCount: 2,\n        totalCount: 3\n      }];\n      setAvailableSlots(dummySlots);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Handle form submission\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    // If we already have availability data, use it to find slots\n    if (Object.keys(participantAvailability).length > 0) {\n      findAvailableSlots();\n    } else {\n      // Otherwise send availability requests first\n      sendAvailabilityRequests();\n    }\n  };\n\n  // Select a slot for scheduling\n  const handleSelectSlot = slot => {\n    setSelectedSlot(slot);\n  };\n\n  // Schedule the selected meeting\n  const scheduleSelectedSlot = () => {\n    if (!selectedSlot) return;\n    alert(`Meeting \"${meetingName}\" scheduled for ${selectedSlot.day}, ${selectedSlot.date} at ${selectedSlot.time}`);\n\n    // Here you would typically make an API call to save the meeting\n    // and send calendar invites to participants\n\n    // Reset states after scheduling\n    setMeetingName('');\n    setParticipants([]);\n    setPreferredDays({\n      monday: false,\n      tuesday: false,\n      wednesday: false,\n      thursday: false,\n      friday: false\n    });\n    setTimeRange({\n      from: '9:00 AM',\n      to: '5:00 PM'\n    });\n    setEmailsSent(false);\n    setParticipantAvailability({});\n    setAvailableSlots([]);\n    setSelectedSlot(null);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex-1 p-6\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-md rounded-lg p-4 h-full\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Group Availability\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Schedule a Group Meeting\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Meeting Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input\",\n                placeholder: \"Weekly Team Sync\",\n                value: meetingName,\n                onChange: e => setMeetingName(e.target.value),\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Duration\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"input\",\n                value: duration,\n                onChange: e => setDuration(e.target.value),\n                children: durationOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: option,\n                  children: option\n                }, option, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Participants\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2 mb-2\",\n              children: participants.map(participant => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center\",\n                children: [participant.name, /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"ml-2 text-blue-500 hover:text-blue-700\",\n                  onClick: () => handleRemoveParticipant(participant.id),\n                  children: \"\\xD7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this)]\n              }, participant.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: \"input flex-grow mr-2\",\n                placeholder: \"Add participant email\",\n                value: newParticipant,\n                onChange: e => setNewParticipant(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: handleAddParticipant,\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Preferred Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex flex-wrap gap-2\",\n              children: Object.entries({\n                monday: 'Monday',\n                tuesday: 'Tuesday',\n                wednesday: 'Wednesday',\n                thursday: 'Thursday',\n                friday: 'Friday'\n              }).map(([key, label]) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `px-3 py-1 rounded-md text-sm cursor-pointer ${preferredDays[key] ? 'bg-primary text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}`,\n                onClick: () => toggleDay(key),\n                children: label\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Preferred Time Range\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid grid-cols-2 gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-500 mb-1\",\n                  children: \"From\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"input\",\n                  value: timeRange.from,\n                  onChange: e => setTimeRange({\n                    ...timeRange,\n                    from: e.target.value\n                  }),\n                  children: timeOptions.map(time => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: time,\n                    children: time\n                  }, `from-${time}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 372,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-xs text-gray-500 mb-1\",\n                  children: \"To\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 383,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: \"input\",\n                  value: timeRange.to,\n                  onChange: e => setTimeRange({\n                    ...timeRange,\n                    to: e.target.value\n                  }),\n                  children: timeOptions.map(time => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: time,\n                    children: time\n                  }, `to-${time}`, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 384,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 382,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-6 flex\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary mr-2 flex-grow\",\n              disabled: isLoading || isSendingEmails,\n              children: isLoading ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 407,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this), \"Finding Times...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this) : 'Find Available Times'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), !emailsSent && /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary flex-grow\",\n              onClick: sendAvailabilityRequests,\n              disabled: isSendingEmails || participants.length === 0,\n              children: isSendingEmails ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flex items-center justify-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"animate-spin -ml-1 mr-3 h-5 w-5\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n                    className: \"opacity-25\",\n                    cx: \"12\",\n                    cy: \"12\",\n                    r: \"10\",\n                    stroke: \"currentColor\",\n                    strokeWidth: \"4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"opacity-75\",\n                    fill: \"currentColor\",\n                    d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this), \"Sending...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this) : 'Send Availability Requests'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), emailsSent && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 text-sm text-green-600\",\n            children: [\"Availability requests sent to all participants!\", /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"ml-2 text-blue-600 underline\",\n              onClick: () => setEmailsSent(false),\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 439,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), availableSlots.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 p-4 bg-gray-50 rounded-lg\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Best Available Slots\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-3\",\n          children: availableSlots.map((slot, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 bg-white rounded-md border ${slot.availability === 'all' ? 'border-green-200' : 'border-yellow-200'} flex justify-between items-center ${selectedSlot === slot ? 'ring-2 ring-primary' : ''}`,\n            onClick: () => handleSelectSlot(slot),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"font-medium capitalize\",\n                children: [slot.day, \", \", slot.date]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500 ml-2\",\n                children: slot.time\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 469,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [slot.availability === 'all' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\",\n                children: \"All available\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs\",\n                children: [slot.availableCount, \"/\", slot.totalCount, \" available\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 475,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                className: \"ml-3\",\n                checked: selectedSlot === slot,\n                onChange: () => handleSelectSlot(slot)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 479,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary w-full\",\n            disabled: !selectedSlot,\n            onClick: scheduleSelectedSlot,\n            children: \"Schedule Selected Slot\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 490,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 5\n  }, this);\n}\n_s(GroupAvailability, \"H9vflrcSviqt0MJcn8TRoaU/rgs=\");\n_c = GroupAvailability;\nexport default GroupAvailability;\nvar _c;\n$RefreshReg$(_c, \"GroupAvailability\");","map":{"version":3,"names":["React","useState","openAIService","jsxDEV","_jsxDEV","GroupAvailability","_s","meetingName","setMeetingName","duration","setDuration","newParticipant","setNewParticipant","participants","setParticipants","id","name","email","preferredDays","setPreferredDays","monday","tuesday","wednesday","thursday","friday","timeRange","setTimeRange","from","to","durationOptions","timeOptions","participantAvailability","setParticipantAvailability","availableSlots","setAvailableSlots","isLoading","setIsLoading","isSendingEmails","setIsSendingEmails","emailsSent","setEmailsSent","selectedSlot","setSelectedSlot","handleRemoveParticipant","filter","participant","updatedAvailability","handleAddParticipant","trim","emailRegex","isEmail","test","newId","length","Math","max","map","p","possibleName","split","replace","txt","charAt","toUpperCase","substr","toLowerCase","toggleDay","day","prev","sendAvailabilityRequests","alert","Promise","resolve","setTimeout","mockAvailability","forEach","days","availableDays","random","numSlots","floor","i","startHour","endHour","push","start","end","findAvailableSlots","error","console","availabilityData","Object","values","some","meetingParams","entries","_","selected","bestSlots","findBestMeetingSlots","selectedDays","dummySlots","date","time","availability","availableCount","totalCount","handleSubmit","e","preventDefault","keys","handleSelectSlot","slot","scheduleSelectedSlot","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","option","onClick","key","label","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","index","checked","_c","$RefreshReg$"],"sources":["/Users/fiona/Desktop/Y/MPH 1st Y/575/PlanWise/client/src/components/Features/GroupAvailability.js"],"sourcesContent":["import React, { useState } from 'react';\nimport openAIService from '../../Services/openAIservice';\n\nfunction GroupAvailability() {\n  // State for form inputs\n  const [meetingName, setMeetingName] = useState('');\n  const [duration, setDuration] = useState('1 hour');\n  const [newParticipant, setNewParticipant] = useState('');\n  const [participants, setParticipants] = useState([\n    { id: 1, name: 'Sarah Johnson', email: 'sarah.johnson@example.com' },\n    { id: 2, name: 'Michael Chen', email: 'michael.chen@example.com' },\n    { id: 3, name: 'Taylor Kim', email: 'taylor.kim@example.com' }\n  ]);\n  const [preferredDays, setPreferredDays] = useState({\n    monday: false,\n    tuesday: false,\n    wednesday: false,\n    thursday: false,\n    friday: false\n  });\n  const [timeRange, setTimeRange] = useState({\n    from: '9:00 AM',\n    to: '5:00 PM'\n  });\n  \n  // Available duration options\n  const durationOptions = [\n    '30 minutes',\n    '1 hour',\n    '1.5 hours',\n    '2 hours',\n    '2.5 hours',\n    '3 hours',\n    '4 hours',\n    'Full day'\n  ];\n  \n  // Time options\n  const timeOptions = [\n    '8:00 AM', '8:30 AM', \n    '9:00 AM', '9:30 AM', \n    '10:00 AM', '10:30 AM', \n    '11:00 AM', '11:30 AM', \n    '12:00 PM', '12:30 PM', \n    '1:00 PM', '1:30 PM', \n    '2:00 PM', '2:30 PM', \n    '3:00 PM', '3:30 PM', \n    '4:00 PM', '4:30 PM', \n    '5:00 PM', '5:30 PM',\n    '6:00 PM', '6:30 PM'\n  ];\n  \n  // States for availability data and email sending\n  const [participantAvailability, setParticipantAvailability] = useState({});\n  const [availableSlots, setAvailableSlots] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isSendingEmails, setIsSendingEmails] = useState(false);\n  const [emailsSent, setEmailsSent] = useState(false);\n  const [selectedSlot, setSelectedSlot] = useState(null);\n  \n  // Handle participant removal\n  const handleRemoveParticipant = (id) => {\n    setParticipants(participants.filter(participant => participant.id !== id));\n    // Also remove their availability data if it exists\n    if (participantAvailability[id]) {\n      const updatedAvailability = { ...participantAvailability };\n      delete updatedAvailability[id];\n      setParticipantAvailability(updatedAvailability);\n    }\n  };\n  \n  // Handle adding new participant\n  const handleAddParticipant = () => {\n    if (!newParticipant.trim()) return;\n    \n    // Check if it's a valid email format\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    const isEmail = emailRegex.test(newParticipant);\n    \n    const newId = participants.length > 0 \n      ? Math.max(...participants.map(p => p.id)) + 1 \n      : 1;\n    \n    // If it's an email, try to extract a name, otherwise use the email as name\n    let name = newParticipant;\n    let email = newParticipant;\n    \n    if (isEmail) {\n      const possibleName = newParticipant.split('@')[0];\n      name = possibleName\n        .replace(/[._-]/g, ' ')\n        .replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase());\n    }\n    \n    setParticipants([...participants, { id: newId, name, email }]);\n    setNewParticipant('');\n  };\n  \n  // Toggle preferred day\n  const toggleDay = (day) => {\n    setPreferredDays(prev => ({\n      ...prev,\n      [day]: !prev[day]\n    }));\n  };\n  \n  // Simulated function to send availability request emails\n  const sendAvailabilityRequests = async () => {\n    if (participants.length === 0) {\n      alert('Please add at least one participant');\n      return;\n    }\n    \n    setIsSendingEmails(true);\n    \n    try {\n      // Simulating API call to send emails\n      await new Promise(resolve => setTimeout(resolve, 1500));\n      \n      // Simulate some random availability data for each participant\n      const mockAvailability = {};\n      participants.forEach(participant => {\n        const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];\n        const availableDays = {};\n        \n        days.forEach(day => {\n          if (Math.random() > 0.3) { // 70% chance the person is available on this day\n            availableDays[day] = [];\n            \n            // Add some random time slots\n            const numSlots = Math.floor(Math.random() * 4) + 1; // 1-4 slots\n            for (let i = 0; i < numSlots; i++) {\n              const startHour = 9 + Math.floor(Math.random() * 8); // 9 AM to 4 PM\n              const endHour = startHour + 1 + Math.floor(Math.random() * 3); // 1-3 hour slots\n              \n              availableDays[day].push({\n                start: `${startHour}:00`,\n                end: `${endHour}:00`\n              });\n            }\n          }\n        });\n        \n        mockAvailability[participant.id] = availableDays;\n      });\n      \n      setParticipantAvailability(mockAvailability);\n      setEmailsSent(true);\n      \n      // After \"emails are sent\", automatically find available slots\n      findAvailableSlots(mockAvailability);\n    } catch (error) {\n      console.error('Error sending emails:', error);\n      alert('Failed to send invitations. Please try again.');\n    } finally {\n      setIsSendingEmails(false);\n    }\n  };\n  \n  // Find available time slots using OpenAI service\n  const findAvailableSlots = async (availabilityData = participantAvailability) => {\n    // Validate form data\n    if (!meetingName || participants.length === 0 || !Object.values(preferredDays).some(day => day)) {\n      alert('Please fill in all required fields and select at least one preferred day.');\n      return;\n    }\n    \n    setIsLoading(true);\n    \n    try {\n      // Prepare meeting parameters\n      const meetingParams = {\n        duration,\n        preferredDays: Object.entries(preferredDays)\n          .filter(([_, selected]) => selected)\n          .map(([day]) => day),\n        timeRange\n      };\n      \n      // Call OpenAI service to find optimal slots\n      const bestSlots = await openAIService.findBestMeetingSlots(\n        availabilityData,\n        meetingParams\n      );\n      \n      setAvailableSlots(bestSlots);\n    } catch (error) {\n      console.error('Error finding available slots:', error);\n      \n      // Fallback to basic slot generation\n      const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday'];\n      const selectedDays = days.filter(day => preferredDays[day]);\n      \n      // Generate dummy available slots\n      const dummySlots = [\n        {\n          day: selectedDays[0] || 'monday',\n          date: 'May 1',\n          time: '10:00 AM - 11:00 AM',\n          availability: 'all'\n        },\n        {\n          day: selectedDays[selectedDays.length > 1 ? 1 : 0] || 'wednesday',\n          date: 'May 3',\n          time: '2:00 PM - 3:00 PM',\n          availability: 'all'\n        },\n        {\n          day: selectedDays[0] || 'monday',\n          date: 'May 8',\n          time: '11:00 AM - 12:00 PM',\n          availability: 'partial',\n          availableCount: 2,\n          totalCount: 3\n        }\n      ];\n      \n      setAvailableSlots(dummySlots);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  \n  // Handle form submission\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // If we already have availability data, use it to find slots\n    if (Object.keys(participantAvailability).length > 0) {\n      findAvailableSlots();\n    } else {\n      // Otherwise send availability requests first\n      sendAvailabilityRequests();\n    }\n  };\n  \n  // Select a slot for scheduling\n  const handleSelectSlot = (slot) => {\n    setSelectedSlot(slot);\n  };\n  \n  // Schedule the selected meeting\n  const scheduleSelectedSlot = () => {\n    if (!selectedSlot) return;\n    \n    alert(`Meeting \"${meetingName}\" scheduled for ${selectedSlot.day}, ${selectedSlot.date} at ${selectedSlot.time}`);\n    \n    // Here you would typically make an API call to save the meeting\n    // and send calendar invites to participants\n    \n    // Reset states after scheduling\n    setMeetingName('');\n    setParticipants([]);\n    setPreferredDays({\n      monday: false,\n      tuesday: false,\n      wednesday: false,\n      thursday: false,\n      friday: false\n    });\n    setTimeRange({\n      from: '9:00 AM',\n      to: '5:00 PM'\n    });\n    setEmailsSent(false);\n    setParticipantAvailability({});\n    setAvailableSlots([]);\n    setSelectedSlot(null);\n  };\n  \n  return (\n    <div className=\"flex-1 p-6\">\n      <div className=\"bg-white shadow-md rounded-lg p-4 h-full\">\n        <h2 className=\"text-2xl font-bold mb-4\">Group Availability</h2>\n        \n        <div className=\"mb-6\">\n          <h3 className=\"text-lg font-semibold mb-3\">Schedule a Group Meeting</h3>\n          <form onSubmit={handleSubmit}>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Meeting Name</label>\n                <input \n                  type=\"text\" \n                  className=\"input\"\n                  placeholder=\"Weekly Team Sync\"\n                  value={meetingName}\n                  onChange={(e) => setMeetingName(e.target.value)}\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Duration</label>\n                <select \n                  className=\"input\"\n                  value={duration}\n                  onChange={(e) => setDuration(e.target.value)}\n                >\n                  {durationOptions.map(option => (\n                    <option key={option} value={option}>{option}</option>\n                  ))}\n                </select>\n              </div>\n            </div>\n            \n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Participants</label>\n              <div className=\"flex flex-wrap gap-2 mb-2\">\n                {participants.map(participant => (\n                  <div \n                    key={participant.id} \n                    className=\"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm flex items-center\"\n                  >\n                    {participant.name}\n                    <button \n                      type=\"button\"\n                      className=\"ml-2 text-blue-500 hover:text-blue-700\"\n                      onClick={() => handleRemoveParticipant(participant.id)}\n                    >\n                      Ã—\n                    </button>\n                  </div>\n                ))}\n              </div>\n              <div className=\"flex\">\n                <input \n                  type=\"text\" \n                  className=\"input flex-grow mr-2\"\n                  placeholder=\"Add participant email\"\n                  value={newParticipant}\n                  onChange={(e) => setNewParticipant(e.target.value)}\n                />\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary\"\n                  onClick={handleAddParticipant}\n                >\n                  Add\n                </button>\n              </div>\n            </div>\n            \n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Preferred Days</label>\n              <div className=\"flex flex-wrap gap-2\">\n                {Object.entries({\n                  monday: 'Monday',\n                  tuesday: 'Tuesday',\n                  wednesday: 'Wednesday',\n                  thursday: 'Thursday',\n                  friday: 'Friday'\n                }).map(([key, label]) => (\n                  <div \n                    key={key} \n                    className={`px-3 py-1 rounded-md text-sm cursor-pointer ${\n                      preferredDays[key] \n                        ? 'bg-primary text-white' \n                        : 'bg-gray-200 text-gray-700 hover:bg-gray-300'\n                    }`}\n                    onClick={() => toggleDay(key)}\n                  >\n                    {label}\n                  </div>\n                ))}\n              </div>\n            </div>\n            \n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Preferred Time Range</label>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-xs text-gray-500 mb-1\">From</label>\n                  <select \n                    className=\"input\"\n                    value={timeRange.from}\n                    onChange={(e) => setTimeRange({...timeRange, from: e.target.value})}\n                  >\n                    {timeOptions.map(time => (\n                      <option key={`from-${time}`} value={time}>{time}</option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-xs text-gray-500 mb-1\">To</label>\n                  <select \n                    className=\"input\"\n                    value={timeRange.to}\n                    onChange={(e) => setTimeRange({...timeRange, to: e.target.value})}\n                  >\n                    {timeOptions.map(time => (\n                      <option key={`to-${time}`} value={time}>{time}</option>\n                    ))}\n                  </select>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"mt-6 flex\">\n              <button \n                type=\"submit\" \n                className=\"btn btn-primary mr-2 flex-grow\"\n                disabled={isLoading || isSendingEmails}\n              >\n                {isLoading ? (\n                  <span className=\"flex items-center justify-center\">\n                    <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                      <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                      <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                    </svg>\n                    Finding Times...\n                  </span>\n                ) : (\n                  'Find Available Times'\n                )}\n              </button>\n              \n              {!emailsSent && (\n                <button \n                  type=\"button\" \n                  className=\"btn btn-secondary flex-grow\"\n                  onClick={sendAvailabilityRequests}\n                  disabled={isSendingEmails || participants.length === 0}\n                >\n                  {isSendingEmails ? (\n                    <span className=\"flex items-center justify-center\">\n                      <svg className=\"animate-spin -ml-1 mr-3 h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                        <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                        <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                      </svg>\n                      Sending...\n                    </span>\n                  ) : (\n                    'Send Availability Requests'\n                  )}\n                </button>\n              )}\n            </div>\n            \n            {emailsSent && (\n              <div className=\"mt-3 text-sm text-green-600\">\n                Availability requests sent to all participants! \n                <button \n                  type=\"button\"\n                  className=\"ml-2 text-blue-600 underline\"\n                  onClick={() => setEmailsSent(false)}\n                >\n                  Reset\n                </button>\n              </div>\n            )}\n          </form>\n        </div>\n        \n        {availableSlots.length > 0 && (\n          <div className=\"mt-8 p-4 bg-gray-50 rounded-lg\">\n            <h3 className=\"text-lg font-semibold mb-3\">Best Available Slots</h3>\n            <div className=\"space-y-3\">\n              {availableSlots.map((slot, index) => (\n                <div \n                  key={index} \n                  className={`p-3 bg-white rounded-md border ${\n                    slot.availability === 'all' ? 'border-green-200' : 'border-yellow-200'\n                  } flex justify-between items-center ${\n                    selectedSlot === slot ? 'ring-2 ring-primary' : ''\n                  }`}\n                  onClick={() => handleSelectSlot(slot)}\n                >\n                  <div>\n                    <span className=\"font-medium capitalize\">{slot.day}, {slot.date}</span>\n                    <span className=\"text-gray-500 ml-2\">{slot.time}</span>\n                  </div>\n                  <div className=\"flex items-center\">\n                    {slot.availability === 'all' ? (\n                      <span className=\"bg-green-100 text-green-800 px-2 py-1 rounded text-xs\">All available</span>\n                    ) : (\n                      <span className=\"bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs\">\n                        {slot.availableCount}/{slot.totalCount} available\n                      </span>\n                    )}\n                    <input \n                      type=\"radio\" \n                      className=\"ml-3\"\n                      checked={selectedSlot === slot}\n                      onChange={() => handleSelectSlot(slot)}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n            \n            <div className=\"mt-4\">\n              <button \n                className=\"btn btn-primary w-full\"\n                disabled={!selectedSlot}\n                onClick={scheduleSelectedSlot}\n              >\n                Schedule Selected Slot\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default GroupAvailability;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}