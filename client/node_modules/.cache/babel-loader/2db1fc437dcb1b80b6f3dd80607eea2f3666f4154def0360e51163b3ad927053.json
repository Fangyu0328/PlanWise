{"ast":null,"code":"var _jsxFileName = \"/Users/fiona/Desktop/Y/575/PlanWise/client/src/components/Features/AutoTaskScheduler.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport moment from 'moment';\nimport { format } from 'date-fns';\nimport openAIService from '../../Services/openAIservice';\n\n// ‰ªªÂä°Á±ªÂà´‰∏éÈÖçËâ≤\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TASK_CATEGORIES = [{\n  id: 'work',\n  name: 'Work',\n  color: '#4CAF50'\n}, {\n  id: 'study',\n  name: 'Study',\n  color: '#2196F3'\n}, {\n  id: 'exercise',\n  name: 'Exercise',\n  color: '#FF9800'\n}, {\n  id: 'leisure',\n  name: 'Leisure',\n  color: '#9C27B0'\n}, {\n  id: 'personal',\n  name: 'Personal',\n  color: '#607D8B'\n}];\n\n// ‰ºòÂÖàÁ∫ß\nconst PRIORITY_LEVELS = [{\n  id: 'high',\n  name: 'High',\n  value: 3\n}, {\n  id: 'medium',\n  name: 'Medium',\n  value: 2\n}, {\n  id: 'low',\n  name: 'Low',\n  value: 1\n}];\n\n// ÈªòËÆ§ÂÄº\nconst DEFAULTS = {\n  estimatedHours: 1,\n  maxTasksPerDay: 5,\n  breakBetweenTasks: 15,\n  splitTaskThreshold: 2\n};\nconst localizer = momentLocalizer(moment);\nfunction AutoTaskScheduler({\n  events = []\n}) {\n  _s();\n  // ‚Äî‚Äî State ‚Äî‚Äî \n  const [tasks, setTasks] = useState([]);\n  const [scheduledEvents, setScheduledEvents] = useState([]);\n  const [newTask, setNewTask] = useState({\n    name: '',\n    deadline: format(new Date(), 'yyyy-MM-dd'),\n    deadlineTime: '17:00',\n    estimatedHours: DEFAULTS.estimatedHours,\n    category: TASK_CATEGORIES[0],\n    priority: PRIORITY_LEVELS[1]\n  });\n  const [workingHours, setWorkingHours] = useState({\n    start: '09:00',\n    end: '17:00'\n  });\n  const [taskSettings, setTaskSettings] = useState({\n    maxTasksPerDay: DEFAULTS.maxTasksPerDay,\n    breakBetweenTasks: DEFAULTS.breakBetweenTasks,\n    splitTaskThreshold: DEFAULTS.splitTaskThreshold\n  });\n  const [isScheduling, setIsScheduling] = useState(false);\n  const [schedulingMessage, setSchedulingMessage] = useState('');\n  const [calendarView, setCalendarView] = useState('week');\n  const [calendarDate, setCalendarDate] = useState(new Date());\n\n  // ‚Äî‚Äî ÊÅ¢Â§ç localStorage ‚Äî‚Äî \n  useEffect(() => {\n    const sTasks = JSON.parse(localStorage.getItem('tasks') || '[]');\n    setTasks(sTasks);\n    const sSched = JSON.parse(localStorage.getItem('scheduledEvents') || '[]').map(ev => ({\n      ...ev,\n      start: new Date(ev.start),\n      end: new Date(ev.end)\n    }));\n    setScheduledEvents(sSched);\n    const sSet = JSON.parse(localStorage.getItem('taskSettings') || '{}');\n    if (sSet.maxTasksPerDay) setTaskSettings(sSet);\n    const sHours = JSON.parse(localStorage.getItem('workingHours') || '{}');\n    if (sHours.start) setWorkingHours(sHours);\n  }, []);\n\n  // ‚Äî‚Äî ÂêåÊ≠• localStorage ‚Äî‚Äî \n  useEffect(() => {\n    if (tasks.length) localStorage.setItem('tasks', JSON.stringify(tasks));else localStorage.removeItem('tasks');\n  }, [tasks]);\n  useEffect(() => {\n    if (scheduledEvents.length) localStorage.setItem('scheduledEvents', JSON.stringify(scheduledEvents));else localStorage.removeItem('scheduledEvents');\n  }, [scheduledEvents]);\n  useEffect(() => localStorage.setItem('taskSettings', JSON.stringify(taskSettings)), [taskSettings]);\n  useEffect(() => localStorage.setItem('workingHours', JSON.stringify(workingHours)), [workingHours]);\n\n  // ‚Äî‚Äî Ë°®ÂçïÂ§ÑÁêÜ ‚Äî‚Äî \n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    if (name === 'category') {\n      setNewTask({\n        ...newTask,\n        category: TASK_CATEGORIES.find(c => c.id === value)\n      });\n    } else if (name === 'priority') {\n      setNewTask({\n        ...newTask,\n        priority: PRIORITY_LEVELS.find(p => p.id === value)\n      });\n    } else if (name === 'estimatedHours') {\n      const v = parseFloat(value);\n      setNewTask({\n        ...newTask,\n        estimatedHours: isNaN(v) ? DEFAULTS.estimatedHours : Math.max(0.5, v)\n      });\n    } else {\n      setNewTask({\n        ...newTask,\n        [name]: value\n      });\n    }\n  };\n  const handleSettingsChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    let parsed;\n    if (['maxTasksPerDay', 'breakBetweenTasks'].includes(name)) parsed = parseInt(value, 10);else if (name === 'splitTaskThreshold') parsed = parseFloat(value);\n    setTaskSettings({\n      ...taskSettings,\n      [name]: isNaN(parsed) ? DEFAULTS[name] : parsed\n    });\n  };\n\n  // ‚Äî‚Äî Â¢ûÂä†/ÁßªÈô§‰ªªÂä° ‚Äî‚Äî \n  const handleAddTask = e => {\n    e.preventDefault();\n    if (!newTask.name.trim()) return;\n    const dl = new Date(`${newTask.deadline}T${newTask.deadlineTime}`);\n    if (isNaN(dl)) {\n      setSchedulingMessage('ËØ∑Â°´ÂÜôÊúâÊïàÊà™Ê≠¢Êó∂Èó¥');\n      setTimeout(() => setSchedulingMessage(''), 3000);\n      return;\n    }\n    const task = {\n      ...newTask,\n      id: Date.now().toString(),\n      fullDeadline: dl.toISOString()\n    };\n    setTasks(prev => [...prev, task]);\n    setNewTask({\n      name: '',\n      deadline: format(new Date(), 'yyyy-MM-dd'),\n      deadlineTime: '17:00',\n      estimatedHours: DEFAULTS.estimatedHours,\n      category: TASK_CATEGORIES[0],\n      priority: PRIORITY_LEVELS[1]\n    });\n  };\n  const handleRemoveTask = id => setTasks(tasks.filter(t => t.id !== id));\n  const clearSchedule = () => {\n    setScheduledEvents([]);\n    setSchedulingMessage('ÊéíÁ®ãÂ∑≤Ê∏ÖÁ©∫');\n    setTimeout(() => setSchedulingMessage(''), 3000);\n  };\n\n  // ‚Äî‚Äî AI ÊéíÁ®ã + Fallback ‚Äî‚Äî \n  const fallback = () => {\n    // ÁÆÄÂçïË¥™ÂøÉÔºöÊåâ deadline Âíå priority ÊéíÂ∫èÔºåÈÄêÂ∞èÊó∂Â°´ÂÖ•\n    const sorted = [...tasks].sort((a, b) => {\n      const da = new Date(a.fullDeadline),\n        db = new Date(b.fullDeadline);\n      if (da - db !== 0) return da - db;\n      return b.priority.value - a.priority.value;\n    });\n    let cursor = moment(calendarDate).hour(+workingHours.start.split(':')[0]).minute(+workingHours.start.split(':')[1]);\n    const slots = [];\n    sorted.forEach(t => {\n      for (let h = 0; h < t.estimatedHours; h++) {\n        let start = cursor.clone(),\n          end = start.clone().add(1, 'hour');\n        if (end.hour() > +workingHours.end.split(':')[0]) {\n          cursor = cursor.clone().add(1, 'day').hour(+workingHours.start.split(':')[0]).minute(+workingHours.start.split(':')[1]);\n          start = cursor.clone();\n          end = start.clone().add(1, 'hour');\n        }\n        slots.push({\n          id: t.id,\n          title: t.name,\n          start: start.toDate(),\n          end: end.toDate(),\n          category: t.category,\n          notes: '',\n          isScheduledTask: true\n        });\n        cursor = end.clone().add(taskSettings.breakBetweenTasks, 'minutes');\n      }\n    });\n    return slots;\n  };\n  const handleScheduleTasks = async () => {\n    if (!tasks.length) return;\n    setIsScheduling(true);\n    setSchedulingMessage('Ê≠£Âú®ÁîüÊàêÊúÄ‰ºòÊéíÁ®ã‚Ä¶');\n    try {\n      // ÊûÑÈÄ† AI ËæìÂÖ•\n      const taskData = tasks.map(t => ({\n        id: t.id,\n        title: t.name,\n        priority: t.priority.value,\n        duration: t.estimatedHours,\n        deadline: t.fullDeadline,\n        categoryId: t.category.id,\n        categoryName: t.category.name\n      }));\n      const calendarEvents = events.map(ev => ({\n        title: ev.title,\n        start: ev.start.toISOString(),\n        end: ev.end.toISOString()\n      }));\n      const prefs = {\n        workingHours,\n        maxTasksPerDay: taskSettings.maxTasksPerDay,\n        breakBetweenTasks: taskSettings.breakBetweenTasks,\n        splitTaskThreshold: taskSettings.splitTaskThreshold\n      };\n      // Ë∞ÉÁî® OpenAI\n      const raw = await openAIService.optimizeTaskSchedule(taskData, calendarEvents, prefs);\n      // ÊèêÂèñ JSON\n      const m = raw.match(/\\{[\\s\\S]+\\}|\\[[\\s\\S]+\\]/);\n      if (!m) throw new Error('AI Êú™ËøîÂõûÂêàÊ≥ï JSON');\n      const optimized = JSON.parse(m[0]);\n      if (!Array.isArray(optimized) || !optimized.length) throw new Error('AI ËøîÂõûÁ©∫ÊéíÁ®ã');\n\n      // ËΩ¨ÊàêÊó•ÂéÜ‰∫ã‰ª∂\n      const scheduled = optimized.map(item => {\n        const cat = TASK_CATEGORIES.find(c => c.id === item.categoryId) || TASK_CATEGORIES[0];\n        return {\n          id: item.id,\n          title: item.title,\n          start: new Date(item.start),\n          end: new Date(item.end),\n          category: cat,\n          notes: item.notes || '',\n          isScheduledTask: true\n        };\n      });\n      setScheduledEvents(scheduled);\n      setSchedulingMessage('ÊéíÁ®ãÂÆåÊàê üéâ');\n    } catch (e) {\n      console.error('ÊéíÁ®ãÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞ÁÆóÊ≥ï', e);\n      setSchedulingMessage('AI Âá∫ÈîôÔºåÂ∑≤ÂõûÈÄÄÊú¨Âú∞ÊéíÁ®ã');\n      setScheduledEvents(fallback());\n    } finally {\n      setIsScheduling(false);\n      setTimeout(() => setSchedulingMessage(''), 3000);\n    }\n  };\n\n  // ‚Äî‚Äî Êó•ÂéÜÊ†∑Âºè ‚Äî‚Äî \n  const eventStyleGetter = event => ({\n    style: {\n      backgroundColor: event.category.color,\n      color: '#fff',\n      borderRadius: '4px',\n      border: event.isScheduledTask ? '3px solid #333' : 'none'\n    }\n  });\n\n  // ‚Äî‚Äî Ê∏≤Êüì ‚Äî‚Äî \n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col md:flex-row h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md:w-1/3 p-6 bg-white overflow-auto shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4\",\n        children: \"Auto Task Scheduler\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleAddTask,\n        className: \"space-y-4 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Task Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"name\",\n            value: newTask.name,\n            onChange: handleInputChange,\n            className: \"w-full border rounded px-3 py-2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Deadline Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"deadline\",\n              type: \"date\",\n              value: newTask.deadline,\n              onChange: handleInputChange,\n              className: \"w-full border rounded px-3 py-2\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Deadline Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"deadlineTime\",\n              type: \"time\",\n              value: newTask.deadlineTime,\n              onChange: handleInputChange,\n              className: \"w-full border rounded px-3 py-2\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Estimated Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"estimatedHours\",\n            type: \"number\",\n            min: \"0.5\",\n            step: \"0.5\",\n            value: newTask.estimatedHours,\n            onChange: handleInputChange,\n            className: \"w-full border rounded px-3 py-2\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Category\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"category\",\n              value: newTask.category.id,\n              onChange: handleInputChange,\n              className: \"w-full border rounded px-3 py-2\",\n              children: TASK_CATEGORIES.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: c.id,\n                children: c.name\n              }, c.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Priority\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              name: \"priority\",\n              value: newTask.priority.id,\n              onChange: handleInputChange,\n              className: \"w-full border rounded px-3 py-2\",\n              children: PRIORITY_LEVELS.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p.id,\n                children: p.name\n              }, p.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-blue-600 text-white py-2 rounded\",\n          children: \"Add Task\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold\",\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Work Start\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: workingHours.start,\n              onChange: e => setWorkingHours({\n                ...workingHours,\n                start: e.target.value\n              }),\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Work End\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"time\",\n              value: workingHours.end,\n              onChange: e => setWorkingHours({\n                ...workingHours,\n                end: e.target.value\n              }),\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Max Tasks/Day\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"maxTasksPerDay\",\n              type: \"number\",\n              value: taskSettings.maxTasksPerDay,\n              onChange: handleSettingsChange,\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Break (min)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"breakBetweenTasks\",\n              type: \"number\",\n              value: taskSettings.breakBetweenTasks,\n              onChange: handleSettingsChange,\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Split Threshold (h)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              name: \"splitTaskThreshold\",\n              type: \"number\",\n              value: taskSettings.splitTaskThreshold,\n              onChange: handleSettingsChange,\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearSchedule,\n            disabled: !scheduledEvents.length,\n            className: \"flex-1 bg-gray-300 py-2 rounded disabled:opacity-50\",\n            children: \"Clear Schedule\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleScheduleTasks,\n            disabled: !tasks.length || isScheduling,\n            className: \"flex-1 bg-green-600 text-white py-2 rounded disabled:opacity-50\",\n            children: isScheduling ? 'Scheduling‚Ä¶' : 'Schedule Tasks'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 336,\n          columnNumber: 11\n        }, this), schedulingMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 p-2 bg-yellow-100 rounded text-yellow-800\",\n          children: schedulingMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold mb-2\",\n          children: \"Task List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this), !tasks.length ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500\",\n          children: \"No tasks added yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 15\n        }, this) : tasks.map(t => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-2 p-2 border rounded flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium\",\n              children: t.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-600\",\n              children: [\"Due \", format(new Date(t.fullDeadline), 'MMM d'), \" \\u2022 \", t.estimatedHours, \"h\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleRemoveTask(t.id),\n            className: \"text-red-500\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 17\n          }, this)]\n        }, t.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 357,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"md:w-2/3 p-6 bg-white shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: \"Optimized Schedule\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n        localizer: localizer,\n        events: [...events, ...scheduledEvents],\n        startAccessor: \"start\",\n        endAccessor: \"end\",\n        style: {\n          height: 'calc(100vh - 120px)'\n        },\n        views: ['week', 'day'],\n        view: calendarView,\n        date: calendarDate,\n        onNavigate: setCalendarDate,\n        onView: setCalendarView,\n        eventPropGetter: eventStyleGetter,\n        tooltipAccessor: ev => `${ev.title}${ev.notes ? '\\n' + ev.notes : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n}\n_s(AutoTaskScheduler, \"bSIfjZ5pLDKjCXb6s2y185NULJA=\");\n_c = AutoTaskScheduler;\nexport default AutoTaskScheduler;\nvar _c;\n$RefreshReg$(_c, \"AutoTaskScheduler\");","map":{"version":3,"names":["React","useState","useEffect","Calendar","momentLocalizer","moment","format","openAIService","jsxDEV","_jsxDEV","TASK_CATEGORIES","id","name","color","PRIORITY_LEVELS","value","DEFAULTS","estimatedHours","maxTasksPerDay","breakBetweenTasks","splitTaskThreshold","localizer","AutoTaskScheduler","events","_s","tasks","setTasks","scheduledEvents","setScheduledEvents","newTask","setNewTask","deadline","Date","deadlineTime","category","priority","workingHours","setWorkingHours","start","end","taskSettings","setTaskSettings","isScheduling","setIsScheduling","schedulingMessage","setSchedulingMessage","calendarView","setCalendarView","calendarDate","setCalendarDate","sTasks","JSON","parse","localStorage","getItem","sSched","map","ev","sSet","sHours","length","setItem","stringify","removeItem","handleInputChange","e","target","find","c","p","v","parseFloat","isNaN","Math","max","handleSettingsChange","parsed","includes","parseInt","handleAddTask","preventDefault","trim","dl","setTimeout","task","now","toString","fullDeadline","toISOString","prev","handleRemoveTask","filter","t","clearSchedule","fallback","sorted","sort","a","b","da","db","cursor","hour","split","minute","slots","forEach","h","clone","add","push","title","toDate","notes","isScheduledTask","handleScheduleTasks","taskData","duration","categoryId","categoryName","calendarEvents","prefs","raw","optimizeTaskSchedule","m","match","Error","optimized","Array","isArray","scheduled","item","cat","console","error","eventStyleGetter","event","style","backgroundColor","borderRadius","border","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","type","min","step","onClick","disabled","startAccessor","endAccessor","height","views","view","date","onNavigate","onView","eventPropGetter","tooltipAccessor","_c","$RefreshReg$"],"sources":["/Users/fiona/Desktop/Y/575/PlanWise/client/src/components/Features/AutoTaskScheduler.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport moment from 'moment';\nimport { format } from 'date-fns';\nimport openAIService from '../../Services/openAIservice';\n\n// ‰ªªÂä°Á±ªÂà´‰∏éÈÖçËâ≤\nconst TASK_CATEGORIES = [\n  { id: 'work',     name: 'Work',     color: '#4CAF50' },\n  { id: 'study',    name: 'Study',    color: '#2196F3' },\n  { id: 'exercise', name: 'Exercise', color: '#FF9800' },\n  { id: 'leisure',  name: 'Leisure',  color: '#9C27B0' },\n  { id: 'personal', name: 'Personal', color: '#607D8B' },\n];\n\n// ‰ºòÂÖàÁ∫ß\nconst PRIORITY_LEVELS = [\n  { id: 'high',   name: 'High',   value: 3 },\n  { id: 'medium', name: 'Medium', value: 2 },\n  { id: 'low',    name: 'Low',    value: 1 },\n];\n\n// ÈªòËÆ§ÂÄº\nconst DEFAULTS = {\n  estimatedHours:     1,\n  maxTasksPerDay:     5,\n  breakBetweenTasks: 15,\n  splitTaskThreshold: 2,\n};\n\nconst localizer = momentLocalizer(moment);\n\nfunction AutoTaskScheduler({ events = [] }) {\n  // ‚Äî‚Äî State ‚Äî‚Äî \n  const [tasks, setTasks]                 = useState([]);\n  const [scheduledEvents, setScheduledEvents] = useState([]);\n  const [newTask, setNewTask]             = useState({\n    name: '',\n    deadline: format(new Date(), 'yyyy-MM-dd'),\n    deadlineTime: '17:00',\n    estimatedHours: DEFAULTS.estimatedHours,\n    category: TASK_CATEGORIES[0],\n    priority: PRIORITY_LEVELS[1],\n  });\n  const [workingHours, setWorkingHours]   = useState({ start: '09:00', end: '17:00' });\n  const [taskSettings, setTaskSettings]   = useState({\n    maxTasksPerDay:     DEFAULTS.maxTasksPerDay,\n    breakBetweenTasks:  DEFAULTS.breakBetweenTasks,\n    splitTaskThreshold: DEFAULTS.splitTaskThreshold,\n  });\n  const [isScheduling, setIsScheduling]   = useState(false);\n  const [schedulingMessage, setSchedulingMessage] = useState('');\n  const [calendarView, setCalendarView]   = useState('week');\n  const [calendarDate, setCalendarDate]   = useState(new Date());\n\n  // ‚Äî‚Äî ÊÅ¢Â§ç localStorage ‚Äî‚Äî \n  useEffect(() => {\n    const sTasks = JSON.parse(localStorage.getItem('tasks') || '[]');\n    setTasks(sTasks);\n    const sSched = JSON.parse(localStorage.getItem('scheduledEvents') || '[]')\n      .map(ev => ({ ...ev, start: new Date(ev.start), end: new Date(ev.end) }));\n    setScheduledEvents(sSched);\n    const sSet = JSON.parse(localStorage.getItem('taskSettings') || '{}');\n    if (sSet.maxTasksPerDay) setTaskSettings(sSet);\n    const sHours = JSON.parse(localStorage.getItem('workingHours') || '{}');\n    if (sHours.start)      setWorkingHours(sHours);\n  }, []);\n\n  // ‚Äî‚Äî ÂêåÊ≠• localStorage ‚Äî‚Äî \n  useEffect(() => {\n    if (tasks.length)        localStorage.setItem('tasks', JSON.stringify(tasks));\n    else                      localStorage.removeItem('tasks');\n  }, [tasks]);\n\n  useEffect(() => {\n    if (scheduledEvents.length) localStorage.setItem('scheduledEvents', JSON.stringify(scheduledEvents));\n    else                        localStorage.removeItem('scheduledEvents');\n  }, [scheduledEvents]);\n\n  useEffect(() => localStorage.setItem('taskSettings', JSON.stringify(taskSettings)), [taskSettings]);\n  useEffect(() => localStorage.setItem('workingHours', JSON.stringify(workingHours)), [workingHours]);\n\n  // ‚Äî‚Äî Ë°®ÂçïÂ§ÑÁêÜ ‚Äî‚Äî \n  const handleInputChange = e => {\n    const { name, value } = e.target;\n    if (name === 'category') {\n      setNewTask({ ...newTask, category: TASK_CATEGORIES.find(c => c.id === value) });\n    } else if (name === 'priority') {\n      setNewTask({ ...newTask, priority: PRIORITY_LEVELS.find(p => p.id === value) });\n    } else if (name === 'estimatedHours') {\n      const v = parseFloat(value);\n      setNewTask({ ...newTask, estimatedHours: isNaN(v) ? DEFAULTS.estimatedHours : Math.max(0.5, v) });\n    } else {\n      setNewTask({ ...newTask, [name]: value });\n    }\n  };\n\n  const handleSettingsChange = e => {\n    const { name, value } = e.target;\n    let parsed;\n    if (['maxTasksPerDay','breakBetweenTasks'].includes(name)) parsed = parseInt(value, 10);\n    else if (name==='splitTaskThreshold')                      parsed = parseFloat(value);\n    setTaskSettings({\n      ...taskSettings,\n      [name]: isNaN(parsed) ? DEFAULTS[name] : parsed\n    });\n  };\n\n  // ‚Äî‚Äî Â¢ûÂä†/ÁßªÈô§‰ªªÂä° ‚Äî‚Äî \n  const handleAddTask = e => {\n    e.preventDefault();\n    if (!newTask.name.trim()) return;\n    const dl = new Date(`${newTask.deadline}T${newTask.deadlineTime}`);\n    if (isNaN(dl)) {\n      setSchedulingMessage('ËØ∑Â°´ÂÜôÊúâÊïàÊà™Ê≠¢Êó∂Èó¥');\n      setTimeout(()=>setSchedulingMessage(''),3000);\n      return;\n    }\n    const task = {\n      ...newTask,\n      id: Date.now().toString(),\n      fullDeadline: dl.toISOString()\n    };\n    setTasks(prev => [...prev, task]);\n    setNewTask({\n      name: '',\n      deadline: format(new Date(), 'yyyy-MM-dd'),\n      deadlineTime: '17:00',\n      estimatedHours: DEFAULTS.estimatedHours,\n      category: TASK_CATEGORIES[0],\n      priority: PRIORITY_LEVELS[1],\n    });\n  };\n  const handleRemoveTask = id => setTasks(tasks.filter(t=>t.id!==id));\n  const clearSchedule    = () => { setScheduledEvents([]); setSchedulingMessage('ÊéíÁ®ãÂ∑≤Ê∏ÖÁ©∫'); setTimeout(()=>setSchedulingMessage(''),3000); };\n\n  // ‚Äî‚Äî AI ÊéíÁ®ã + Fallback ‚Äî‚Äî \n  const fallback = () => {\n    // ÁÆÄÂçïË¥™ÂøÉÔºöÊåâ deadline Âíå priority ÊéíÂ∫èÔºåÈÄêÂ∞èÊó∂Â°´ÂÖ•\n    const sorted = [...tasks].sort((a,b)=>{\n      const da=new Date(a.fullDeadline), db=new Date(b.fullDeadline);\n      if (da-db!==0) return da-db;\n      return b.priority.value - a.priority.value;\n    });\n    let cursor = moment(calendarDate).hour(+workingHours.start.split(':')[0]).minute(+workingHours.start.split(':')[1]);\n    const slots=[];\n    sorted.forEach(t=>{\n      for(let h=0;h< t.estimatedHours;h++){\n        let start=cursor.clone(), end=start.clone().add(1,'hour');\n        if(end.hour()>+workingHours.end.split(':')[0]){\n          cursor=cursor.clone().add(1,'day').hour(+workingHours.start.split(':')[0]).minute(+workingHours.start.split(':')[1]);\n          start=cursor.clone(); end=start.clone().add(1,'hour');\n        }\n        slots.push({ id:t.id, title:t.name, start:start.toDate(), end:end.toDate(), category:t.category, notes:'', isScheduledTask:true });\n        cursor=end.clone().add(taskSettings.breakBetweenTasks,'minutes');\n      }\n    });\n    return slots;\n  };\n\n  const handleScheduleTasks = async () => {\n    if (!tasks.length) return;\n    setIsScheduling(true);\n    setSchedulingMessage('Ê≠£Âú®ÁîüÊàêÊúÄ‰ºòÊéíÁ®ã‚Ä¶');\n    try {\n      // ÊûÑÈÄ† AI ËæìÂÖ•\n      const taskData = tasks.map(t=>({\n        id: t.id,\n        title: t.name,\n        priority: t.priority.value,\n        duration: t.estimatedHours,\n        deadline: t.fullDeadline,\n        categoryId: t.category.id,\n        categoryName: t.category.name\n      }));\n      const calendarEvents = events.map(ev=>({\n        title: ev.title,\n        start: ev.start.toISOString(),\n        end: ev.end.toISOString(),\n      }));\n      const prefs = {\n        workingHours,\n        maxTasksPerDay:     taskSettings.maxTasksPerDay,\n        breakBetweenTasks:  taskSettings.breakBetweenTasks,\n        splitTaskThreshold: taskSettings.splitTaskThreshold\n      };\n      // Ë∞ÉÁî® OpenAI\n      const raw = await openAIService.optimizeTaskSchedule(taskData, calendarEvents, prefs);\n      // ÊèêÂèñ JSON\n      const m = raw.match(/\\{[\\s\\S]+\\}|\\[[\\s\\S]+\\]/);\n      if (!m) throw new Error('AI Êú™ËøîÂõûÂêàÊ≥ï JSON');\n      const optimized = JSON.parse(m[0]);\n      if (!Array.isArray(optimized) || !optimized.length) throw new Error('AI ËøîÂõûÁ©∫ÊéíÁ®ã');\n\n      // ËΩ¨ÊàêÊó•ÂéÜ‰∫ã‰ª∂\n      const scheduled = optimized.map(item=>{\n        const cat = TASK_CATEGORIES.find(c=>c.id===item.categoryId) || TASK_CATEGORIES[0];\n        return {\n          id: item.id,\n          title: item.title,\n          start: new Date(item.start),\n          end:   new Date(item.end),\n          category: cat,\n          notes: item.notes||'',\n          isScheduledTask: true\n        };\n      });\n      setScheduledEvents(scheduled);\n      setSchedulingMessage('ÊéíÁ®ãÂÆåÊàê üéâ');\n    } catch(e) {\n      console.error('ÊéíÁ®ãÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞ÁÆóÊ≥ï', e);\n      setSchedulingMessage('AI Âá∫ÈîôÔºåÂ∑≤ÂõûÈÄÄÊú¨Âú∞ÊéíÁ®ã');\n      setScheduledEvents(fallback());\n    } finally {\n      setIsScheduling(false);\n      setTimeout(()=>setSchedulingMessage(''),3000);\n    }\n  };\n\n  // ‚Äî‚Äî Êó•ÂéÜÊ†∑Âºè ‚Äî‚Äî \n  const eventStyleGetter = event => ({\n    style: {\n      backgroundColor: event.category.color,\n      color: '#fff',\n      borderRadius: '4px',\n      border: event.isScheduledTask ? '3px solid #333' : 'none'\n    }\n  });\n\n  // ‚Äî‚Äî Ê∏≤Êüì ‚Äî‚Äî \n  return (\n    <div className=\"flex flex-col md:flex-row h-screen\">\n      {/* ‰æßÊ†è */}\n      <div className=\"md:w-1/3 p-6 bg-white overflow-auto shadow\">\n        <h2 className=\"text-2xl font-bold mb-4\">Auto Task Scheduler</h2>\n        <form onSubmit={handleAddTask} className=\"space-y-4 mb-6\">\n          {/* Task name */}\n          <div>\n            <label>Task Name</label>\n            <input name=\"name\" value={newTask.name} onChange={handleInputChange}\n              className=\"w-full border rounded px-3 py-2\" required />\n          </div>\n          {/* Deadline */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label>Deadline Date</label>\n              <input name=\"deadline\" type=\"date\" value={newTask.deadline}\n                onChange={handleInputChange}\n                className=\"w-full border rounded px-3 py-2\" required/>\n            </div>\n            <div>\n              <label>Deadline Time</label>\n              <input name=\"deadlineTime\" type=\"time\" value={newTask.deadlineTime}\n                onChange={handleInputChange}\n                className=\"w-full border rounded px-3 py-2\" required/>\n            </div>\n          </div>\n          {/* Estimated Hours */}\n          <div>\n            <label>Estimated Hours</label>\n            <input name=\"estimatedHours\" type=\"number\" min=\"0.5\" step=\"0.5\"\n              value={newTask.estimatedHours} onChange={handleInputChange}\n              className=\"w-full border rounded px-3 py-2\" required/>\n          </div>\n          {/* Category & Priority */}\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label>Category</label>\n              <select name=\"category\" value={newTask.category.id}\n                onChange={handleInputChange}\n                className=\"w-full border rounded px-3 py-2\">\n                {TASK_CATEGORIES.map(c=>(\n                  <option key={c.id} value={c.id}>{c.name}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label>Priority</label>\n              <select name=\"priority\" value={newTask.priority.id}\n                onChange={handleInputChange}\n                className=\"w-full border rounded px-3 py-2\">\n                {PRIORITY_LEVELS.map(p=>(\n                  <option key={p.id} value={p.id}>{p.name}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n          <button type=\"submit\"\n            className=\"w-full bg-blue-600 text-white py-2 rounded\">\n            Add Task\n          </button>\n        </form>\n\n        {/* Settings */}\n        <div className=\"mb-6 space-y-3\">\n          <h3 className=\"font-semibold\">Settings</h3>\n          <div className=\"flex space-x-2\">\n            <div className=\"flex-1\">\n              <label>Work Start</label>\n              <input type=\"time\" value={workingHours.start}\n                onChange={e=>setWorkingHours({...workingHours, start:e.target.value})}\n                className=\"w-full border rounded px-2 py-1\"/>\n            </div>\n            <div className=\"flex-1\">\n              <label>Work End</label>\n              <input type=\"time\" value={workingHours.end}\n                onChange={e=>setWorkingHours({...workingHours, end:e.target.value})}\n                className=\"w-full border rounded px-2 py-1\"/>\n            </div>\n          </div>\n          <div className=\"flex space-x-2\">\n            <div className=\"flex-1\">\n              <label>Max Tasks/Day</label>\n              <input name=\"maxTasksPerDay\" type=\"number\"\n                value={taskSettings.maxTasksPerDay}\n                onChange={handleSettingsChange}\n                className=\"w-full border rounded px-2 py-1\"/>\n            </div>\n            <div className=\"flex-1\">\n              <label>Break (min)</label>\n              <input name=\"breakBetweenTasks\" type=\"number\"\n                value={taskSettings.breakBetweenTasks}\n                onChange={handleSettingsChange}\n                className=\"w-full border rounded px-2 py-1\"/>\n            </div>\n            <div className=\"flex-1\">\n              <label>Split Threshold (h)</label>\n              <input name=\"splitTaskThreshold\" type=\"number\"\n                value={taskSettings.splitTaskThreshold}\n                onChange={handleSettingsChange}\n                className=\"w-full border rounded px-2 py-1\"/>\n            </div>\n          </div>\n\n          <div className=\"flex space-x-2 mt-4\">\n            <button onClick={clearSchedule}\n              disabled={!scheduledEvents.length}\n              className=\"flex-1 bg-gray-300 py-2 rounded disabled:opacity-50\">\n              Clear Schedule\n            </button>\n            <button onClick={handleScheduleTasks}\n              disabled={!tasks.length||isScheduling}\n              className=\"flex-1 bg-green-600 text-white py-2 rounded disabled:opacity-50\">\n              {isScheduling ? 'Scheduling‚Ä¶' : 'Schedule Tasks'}\n            </button>\n          </div>\n\n          {schedulingMessage && (\n            <div className=\"mt-3 p-2 bg-yellow-100 rounded text-yellow-800\">\n              {schedulingMessage}\n            </div>\n          )}\n        </div>\n\n        {/* Task list */}\n        <div>\n          <h3 className=\"font-semibold mb-2\">Task List</h3>\n          { !tasks.length\n            ? <p className=\"text-gray-500\">No tasks added yet.</p>\n            : tasks.map(t=>(\n              <div key={t.id} className=\"mb-2 p-2 border rounded flex justify-between\">\n                <div>\n                  <div className=\"font-medium\">{t.name}</div>\n                  <div className=\"text-xs text-gray-600\">\n                    Due {format(new Date(t.fullDeadline), 'MMM d')} ‚Ä¢ {t.estimatedHours}h\n                  </div>\n                </div>\n                <button onClick={()=>handleRemoveTask(t.id)} className=\"text-red-500\">√ó</button>\n              </div>\n            ))\n          }\n        </div>\n      </div>\n\n      {/* Êó•ÂéÜ */}\n      <div className=\"md:w-2/3 p-6 bg-white shadow\">\n        <h3 className=\"text-xl font-semibold mb-4\">Optimized Schedule</h3>\n        <Calendar\n          localizer={localizer}\n          events={[...events, ...scheduledEvents]}\n          startAccessor=\"start\"\n          endAccessor=\"end\"\n          style={{ height:'calc(100vh - 120px)' }}\n          views={['week','day']}\n          view={calendarView}\n          date={calendarDate}\n          onNavigate={setCalendarDate}\n          onView={setCalendarView}\n          eventPropGetter={eventStyleGetter}\n          tooltipAccessor={ev=>`${ev.title}${ev.notes?'\\n'+ev.notes:''}`}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default AutoTaskScheduler;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}